<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en-us">

<!--

  $Revision: 327 $
  $HeadURL: svn://crunchyd.com/scutil/html-css-js/html4strict.html $
  $Id: html4strict.html 327 2009-04-05 23:38:37Z john $

-->

  <head>

    <title>HtStub Tutorial</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="robots" content="index,follow">
    <meta name="HtmlTemplateUsed" content="ScUtil HTML 4 Strict Template">
    <meta name="Last-Modified" content="$Date: 2009-04-05 17:38:37 -0600 (Sun, 05 Apr 2009) $">
    <meta name="Content-Version" content="$Revision: 327 $">

    <link rel="shortcut icon" href="/favicon.ico">

    <meta name="resource-type" content="document">
    <meta name="distribution" content="global">
    <meta name="language" content="English">
    <meta name="author" content="John Haugeland">
    <meta name="description" content="A tutorial for the Erlang ASWS webserver library HtStub">
    <meta name="keywords" content="HtStub Erlang Application Webserver Tutorial ASWS Library Howto Getting Started">
    <meta name="copyright" content="Copyright (c) 2009 John Haugeland">
    <meta name="license" content="MIT License">
    <meta name="title" content="HtStub Application Webserver Tutorial">
    <meta name="Content-language" content="English">
    <meta name="URI" content="/tutorial.html">
    <meta name="Content-Location" content="http://htstub.com/tutorial.html">
    <meta name="Location" content="/tutorial.html">
    <meta name="Date" content="Tuesday, July 28 2009">

    <style type="text/css" media="screen,projection,print">

      body { font-family: candara; margin: 0; padding: 0; background-color: #def; }

      a:visited   { color: #007; }

      #content    { position: absolute; top: 0; left: 17em; bottom: 0; right: 0;                padding: 1em 1.5em 1em 0; }
      #tocSidebar { position: fixed;    top: 0; left: 0;    bottom: 0;           width: 16.5em; padding: 0; overflow: auto; }

      #toc         { background-color: #cde; margin: 1em 0.5em 1em 1.5em; padding: 0.25em 0.5em; }
      #toc h1      { font-size: 125%; margin: 0; padding: 0; }
      #toc ol      { padding: 0 0 0 1.15em; margin: 0; font-size: 80%; list-style-type: upper-alpha; }
      #toc ol ol   { padding: 0 0 0 0.3em; list-style-type: decimal; }
      #toc a       { color: #006; text-decoration: none; border-bottom: 1px solid #abf; }
      #toc a       { color: #006; text-decoration: none; border-bottom: 1px solid #abf; }
      #toc a:hover { background-color: #acf; }
      #toc li      { margin-top: 0.5em; color: #00f; }
      #toc li li   { margin-top: 0; color: #36c; }
      #toc li li a { margin-top: 0; color: #039; border-bottom: 0; }
      .toclight    { color: #79a; }

      #content h1           {                 margin: 0 0 1em 0; padding: 0.25em 0.5em; font-size: 200%; font-weight: bold; background-color: #cdf; }
      #content h1 .subtitle { display: block; margin: 0;         padding: 0;            font-size: 60%;  font-weight: normal; }

      h2 { margin-top: 4em; border-bottom: 3px solid #9ac; }
      h3 { margin-top: 2em; border-bottom: 1px solid #ace; }

      .AppTitle { color: #369; }
      .email    { color: #008; border-bottom: 1px solid #00f; }
      .todo     { color: red; font-weight: bold; }

      #footerlink { position: fixed; left: 0; right: 0; bottom: 0; text-align: center; text-decoration: none; color: #008; border-top: 1px solid #00f; font-weight: bold; background-color: #abc; padding: 0.25em; }

      p { text-align: justify; text-indent: 2.75em; }

      dl    { background-color: #d0e0f0; padding: 0.5em 1em; margin: 0 2.75em; }
      dt    { color: #008; font-weight: bold; border-bottom: 1px solid #abc; }
      dd    { text-align: justify; font-size: 90%; }
      dd+dt { margin-top: 1em; }

      #topcode { text-indent: 0; margin: 1em 3em; background-color: #bdf; font-weight: bold; }

      code               { font-size: 9.5pt; background-color: white; font-weight: bold; font-family: consolas, "lucida console", "courier new", monospace; border: 1px solid #9ab; }
      code.blockcode     { padding: 1em 2em; display: block; white-space: pre; }
      code.sideblockcode { padding: 0.25em 0.5em; display: block; margin: 1em 0.5em 1em 1.5em; }
      code.inlinecode    { padding: 0.1em 0.3em; }

      .blockcodecaption  { font-size: 60%; font-family: calibri; color: #408; }

      .webaddress { font-family: consolas, monospace; background-color: #d4e5f6; font-weight: bold; }

      strong { font-weight: bold; font-style: italic; text-decoration: underline; }

      .mygeneral1-comment       { color: #3E3E00; }
      .mygeneral1-currentline   { color: #000000; }
      .mygeneral1-symbol        { color: #2080FF; }
      .mygeneral1-keywords1     { color: #00C0C0; }
      .mygeneral1-keywords2     { color: #8000FF; }
      .mygeneral1-keywords3     { color: #4040FF; }
      .mygeneral1-keywords4     { color: #00EA75; }
      .mygeneral1-keywords5     { color: #00C0C0; font-weight: bold; }
      .mygeneral1-matchedbraces { color: #C6FF00; }
      .mygeneral1-number        { color: #C000C0; font-weight: bold; }
      .mygeneral1-preprocessor  { color: #0000FF; }
      .mygeneral1-rightedge     { color: #C0C0C0; }
      .mygeneral1-selection     { color: #FFFFFF; }
      .mygeneral1-space         { color: #000000; }
      .mygeneral1-string        { color: #0000f0; }
      .mygeneral1-identifier    { color: #003C78; }

      #ServersAndFrameworks     { margin: 0 0 0 2.75em; padding: 0; border: 2px solid #048; border-collapse: collapse; background-color: #bcd; }
      #ServersAndFrameworks td  { border: 1px solid #48b; padding: 1em 3em 1em 2em; background-color: #cde; }

    </style>

    <style type="text/css" media="print">
    </style>

  </head>


  <body>

    <div id="content">

      <a name="top"></a>
      <h1>How-to: <span class="AppTitle">HtStub</span>
          <span class="subtitle">Using an Erlang Application-Specific Webserver Library</span>
      </h1>

      <p id="purposestatement">
        HtStub is about one thing: taking the boring part out of Erlang webservers, by reducing the programmer workload to as
        close to zero as possible.
      </p>

      <h2><a name="intro"></a>Introduction</h2>

      <p>
        HtStub is a webserver library.  To be long-winded about it, "<em>HtStub is a minimalist embeddable application-specific
        webserver library for Erlang, focussed on minimizing impact on hosting or hosted applications while remaining both
        zero-configuration and convenient for throwaway use</em>."  This document serves as a bootstrap and tutorial; there are
        formal docs <a href="http://scutil.com/docs/" title="ScUtil Documentation">elsewhere</a>.  This text is just to get
        people started, to help them understand what HtStub is about, how to use it and what makes it different.
      </p>

      <p>
        I believe in learning by doing; in the course of this tutorial, we will implement 20 different application-specific
        webservers.  Part of that is to show the flexibility and ease of use of the library; another part of that is to reinforce
        just how simple it is to build a webserver specifically tailored to your needs.  If you look, these 20 different ASWSes
        are implemented inside a tutorial which, them included, is still shorter than the preamble to the Apache docs.
      </p>

      <p>
        So, to start, let's go for the simple standard example application: Hello, World.  This is a Hello, World application
        specific webserver:
      </p>

      <div class="blockcodecaption">A trivial example: Hello, World</div>
      <code class="blockcode"><span class="mygeneral1-identifier">HelloServer</span><span class="mygeneral1-space"> </span><span class="mygeneral1-symbol">=</span><span class="mygeneral1-space"> </span><span class="mygeneral1-keywords1">fun</span><span class="mygeneral1-symbol">(</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">,</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">,</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">)</span><span class="mygeneral1-space"> </span><span class="mygeneral1-symbol">-&gt;</span><span class="mygeneral1-space"> </span><span class="mygeneral1-string">&quot;&lt;html&gt;&lt;head/&gt;&lt;body&gt;Hello, World&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="mygeneral1-space"> </span><span class="mygeneral1-keywords1">end</span><span class="mygeneral1-symbol">.
</span><span class="mygeneral1-identifier">htstub</span><span class="mygeneral1-symbol">:</span><span class="mygeneral1-identifier">serve</span><span class="mygeneral1-symbol">(</span><span class="mygeneral1-identifier">HelloServer</span><span class="mygeneral1-symbol">).
</span></code>

      <p>
        That two-line block of code above is actually a fully complete webserver.  If you've already compiled htstub, then cut and
        paste that into a shell, and it'll Just Work.  HtStub servers are as simple as the author is
        able to imagine: they're each a single function which takes three arguments and spits out a response.  The arguments are
        the contents of the request, the headers and the arguments/body, respectively; the response is either a string or a
        tuple containing a status code, optionally some headers and a string response.
      </p>

      <p>
        The rest of this document explains using HtStub less trivially, and related concerns like good ways to design your system,
        and why you should care about yet another webserver.
      </p>

      <h3><a name="another"></a>Another webserver? :(</h3>

      <p>Yeah.</p>

      <h3><a name="somany"></a>But there are so many already!</h3>

      <p>
        I know.  Nuts, isn't it?  It's a really easy project (especially in Erlang) that's fun and useful, and webservers are a
        pretty good learning experience for noobs, so there are millions of them.  At the time of this writing, I'm aware of the
        following webservers and webserver libraries for Erlang alone:
      </p>

      <table id="ServersAndFrameworks"><tr><th>Servers</th><th>Frameworks</th></tr><tr><td>
        <ol>
          <li><a href="http://">YAWS</a></li>
          <li><a href="http://">MochiWeb</a></li>
          <li><a href="http://code.google.com/p/misultin/">Misultin</a></li>
          <li><a href="http://catseye.tc/projects/openflax">OpenFlax</a></li>
          <li><a href="http://erlware.org/lib/5.5.5/crary-0.1.1/">Crary</a></li>
          <li><a href="http://www.tornkvist.org/gitweb?p=twt.git;a=summary">Tobbe's Web Toolkit</a></li>
          <li>Joe Armstrong's <a href="http://cean.process-one.net/packages/index.yaws?action=detail&amp;name=pico">Pico</a></li>
          <li>The official <a href="http://erlang.org/doc/apps/inets/http_server.html">httpd module</a></li>
          <li>The unnamed <a href="http://www.trapexit.org/A_fast_web_server_demonstrating_some_undocumented_Erlang_features">TrapExit Server</a> (iServe)</li>
          <li>The generic <a href="http://www.erlang.org/doc/man/inets.html">generic inets services</a> API</li>
          <li>Raw sockets in <a href="http://www.erlang.org/doc/man/erlang.html#decode_packet-3">HTTP Packet</a> mode</li>
          <li>The <a href="http://nullpointer.dk/?q=node/31">NullPointer.dk Server</a></li>
          <li><a href="http://cean.process-one.net/packages/index.yaws?action=detail&amp;name=erlweb">ErlWeb</a> (discontinued)</li>
          <li>Joe's <a href="http://www.sics.se/~joe/tutorials/web_server/web_server.html">Spitting in the Sawdust</a> tutorial server</li>
        </ol>
      </td><td>
        <ol>
          <li><a href="http://nitrogenproject.com/web/learn">Nitrogen</a></li>
          <li><a href="http://www.erlang-web.org/">Erlang-Web</a></li>
          <li><a href="http://">Erlyweb</a></li>
          <li><a href="http://sourceforge.net/projects/erlhive">ErlHive</a></li>
          <li><a href="http://cean.process-one.net/packages/index.yaws?action=detail&amp;name=efcgi">efCGI</a></li>
          <li><a href="http://code.google.com/p/sgte/">SGTE</a></li>
          <li><a href="http://blog.tornkvist.org/#">Red Hot Blog</a></li>
          <li><a href="http://github.com/etnt/seethrough_erl/tree/master">SeeThrough</a></li>
          <li><a href="http://blog.tornkvist.org/blog.yaws?id=1218638102346188">Dart</a></li>
          <li><a href="http://blog.tornkvist.org/blog.yaws?id=1204931949991700">domErl</a></li>
          <li><a href="http://code.google.com/p/erlycomet">ErlyComet</a></li>
          <li><a href="http://cean.process-one.net/packages/index.yaws?action=detail&amp;name=mango">Mango</a></li>
          <li><a href="http://www.tornkvist.org/gitweb/">GitWeb</a></li>
          <li><a href="http://erlydtl.googlecode.com/">ErlyDTL</a>
        </ol>
      </td></tr></table>

      <p>
        <i>(If I'm missing something, please let me know at <span class="email">ston ecyp her@ gmai l.co m</span>.  Sorry for no link; spam, you know the drill).</i>
      </p>

      <p>
        Many of these applications - indeed, almost all of them - are fine pieces of engineering.  They're reliable, stable, secure, efficient, and since they're all Erlang, they're all pretty awesome.  But, they aren't
        what I wanted: they require thinking, paying attention, being careful.  I want to start and finish the web binding part of a web binding project in a matter of seconds.  The purpose of this library is to minimize
        the drudge work of handling HTTP, but otherwise to get completely out of the way.  HtStub isn't a framework, it isn't a platform, it isn't a server even; it's a protocol implementation and a socket handler.
      </p>

      <p>
        HtStub is the kind of thing that makes a person think "less is more".
      </p>

      <h3><a name="thepoint"></a>So what's the point of another?</h3>

      <p>Well, there are actually several.  <strong>Most of it is about simplifying or removing chaff</strong>.</p>

      <dl>

        <dt>It Just Works</dt>
        <dd>Installation and setup is just a question of compiling two modules.  No fuss, no muss, and you can get right on working on your application.</dd>

        <dt>Shouldn't need tutorials or documentation</dt>
        <dd>
          With normal web languages, if you speak the language and the language is installed, you can pretty much jump right in.  You don't have to set up a whole new configurable application every time you want to make
          something.  ('Course, this is the tutorial/documentation for htstub, but my point is, you could get by without it.)
        </dd>

        <dt>Simple enough for throwaway code</dt>
        <dd>
          The author comes from the scripting mindset, where it isn't uncommon to write 50-100 lines of code which are used once and then discarded.  The amount of setup for most of the Erlang webservers I found was much higher
          than the handful of lines which would keep Erlang practical as a scripting language.  More than around four lines and I think it's too much.  HtStub needs exactly zero configuration, and may be used from the
          console directly.
        </dd>

        <dt>Yet another set of security concepts</dt>
        <dd>There's no reason a person should have to learn to nail down a web interface library securely.  Due to HtStub's design, here you don't have to at all.</dd>

        <dt>Web programming in Erlang is a drag</dt>
        <dd>
          I'll say it.  Each time I look at setting up a webserver in Erlang, I find something I want to do.  Writing configuration files, setting things up, figuring out modes, it's just tedious.  Erlang should be an
          amazing web language; if there was less hassle, the syntax and grammar of Erlang would be an enormous win.  HtStub attempts to lower the hassle level.
        </dd>

        <dt>No, <em>really</em> minimal</dt>
        <dd>There's almost nothing to HtStub.  It manages sockets, parses HTTP and returns your result.  That's it.  Can't even see stuff on disk, it's so stripped down.  The speed and safety benefits are significant.</dd>

        <dt>Fast (performance)</dt>
        <dd>
          With all that stuff that HtStub doesn't do comes a savings on overhead HtStub doesn't have.  HtStub is significantly faster than most Erlang webservers, and under real world load is speed competitive with
          imperative webservers as well.  Because of Erlang's mature massive process scheduler, HtStub (like many but not all Erlang webservers) is able to tolerate enormous numbers of concurrent clients, meaning that
          large-parallelism delay servers (like massive COMET servers) are perfectly viable. <span class="todo">Todo: Benchmarks</span>
        </dd>

        <dt>Fast Redux (development time)</dt>
        <dd>
          The other kind of fast matters just as much: you're done with HtStub almost the second you remember how to spell its name.  The learning curve of HtStub is nearly flat, provided you already know Erlang; you just
          have to find out in what order the arguments are presented, and <em>you're done</em>.  Just like that.  HtStub gives you time to go make a sandwich instead of messing around with
          <tt>enormousConfig&#8203;.hurkFramework&#8203;.JavaBean&#8203;.someApacheThing&#8203;.ObscurePackage&#8203;.RPMconflict.ini</tt> .
        </dd>

        <dt>Fast: The Reckoning (deployment time)</dt>
        <dd>
          The third kind of fast matters just as much: your application isn't worth much if your customer can't deploy it.  Chew on that while you look at your existing webserver's setup procedure.
        </dd>

        <dt>Bride of Son of Fast II: Nightmare Lake (design time)</dt>
        <dd>
          The fourth kind of fast matters probably more than the other three put together.  HtStub is low concept software: it does one thing, it does it simply, and the author would like to believe it does that thing
          well.  There's no putting in effort to figure out the right way to build, or sorting through a million variations on how to set stuff up.  You decide where the web glues to your stuff, you put a function call
          there, you write something to create HTML, and you call it a day.  No more wasting a half a day's work, inspiration and excitement trying to sort out whether you want FastCGI or MPM or mod_nausea or so forth;
          instead, one uniform function call and your project is underway.
        </dd>

        <dt>Embeddable, Referrable or Housable</dt>
        <dd>
          Sometimes the webserver should be the top part: a bunch of people host their things inside.  That's housability: write your web applications as modules (or funs, I guess) and use HtStub in standalone mode.
          Sometimes the application should be the top part: an existing system that just wants browser access.  That's embeddability: make a call to HtStub from inside your existing application, and there's no server,
          just an application that speaks HTTP.  Sometimes your normal webserver needs a stand-in for a special case load, especially mass parallelism, like adding chat to an existing massive PHP site by going to a
          different subdomain or port for the heavy static load; that's referrability.  HtStub is fine for all three.
        </dd>

        <dt>Legacy interface modernization</dt>
        <dd>
          Got an existing large app and want a web interface for it?  App already has reporting?  Easy peasy.  Write a function that converts the existing reporting to HTML, then call that function on the results of
          calling the reporting function with whatever came in on GET in your driver function.  Problem over, just like that, often in less than five lines of code.
        </dd>

        <dt>Trivially Modular</dt>
        <dd>
          Want to add a generic capability?  Not a problem: write a module.  Since the interface is so simple and well defined, chaining code to handle things either on their way in or out is similarly trivial.  There
          is a small list of standard modules (such as virtual hosting) and example code to support custom development.
        </dd>

        <dt>No GPL contamination</dt>
        <dd>
          The author of HtStub is strongly against the GPL family of licenses, including LGPL.  As such, this library is released under the <a href="http://scutil.com/license.html" target="_blank" title="ScUtil License">MIT
          License</a>.  Neither HtStub nor its parent library <a href="http://scutil.com/" title="The ScUtil Library">ScUtil</a> will ever knowingly become dependant on GPL/related license material.  Freedom should be free
          for everyone; that's <a href="http://whyIHateTheGPL.com/" title="Why I Hate The GPL">why I hate the GPL</a>.
        </dd>

      </dl>

      <h3><a name="started"></a>How do I get started?</h3>

      <ol>
        <li>Install <a href="http://erlang.org/">Erlang</a>.</li>
        <li>Install <a href="http://scutil.com/" title="The ScUtil Library">ScUtil</a>.</li>
        <li>Open an erlang console.</li>
        <li><code class="inlinecode"><span class="mygeneral1-identifier">htstub</span><span class="mygeneral1-symbol">:</span><span class="mygeneral1-identifier">serve</span><span class="mygeneral1-symbol">(</span><span class="mygeneral1-space"> </span><span class="mygeneral1-keywords1">fun</span><span class="mygeneral1-symbol">(</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">,</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">,</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">)</span><span class="mygeneral1-space"> </span><span class="mygeneral1-symbol">-&gt;</span><span class="mygeneral1-space"> </span><span class="mygeneral1-string">&quot;It works!&quot;</span><span class="mygeneral1-space"> </span><span class="mygeneral1-keywords1">end</span><span class="mygeneral1-space"> </span><span class="mygeneral1-symbol">).</span></code></li>
      </ol>

      <p>
        That's it.  You've just made your first <span class="term">Application Specific Webserver</span>, or <span class="term">ASWS</span>.
        You should be able to browse to it from <span class="webaddress">http://(your ip address)/</span>.  If you're serving from the same
        machine that you're browsing from, you should be able to browse that at
        <a href="http://127.0.0.1/" target="_blank">http://127.0.0.1/</a> (opens in a new tab/window).
      </p>

      <h3><a name="underunix"></a>Using this tutorial under Unix</h3>

      <p>
        BSD and Linux have a thing where if you want to open a system port (a port &lt;= 1024), you have to be root.  Solaris has an
        eminently sensible mechanism: you can just specify exceptions in some config file somewhere.  With BSD and Linux, you have a
        bunch of options, none of them delightful: forward the ports through inetd/xinetd/iptables/ipchains/whatever, run Erlang as
        root, or under BSD, there's even a kernel patch to remove the offending restriction.  There's actually a good reason for this
        behavior, but that's beyond the scope of this tutorial.
      </p>

      <p>
        I'm totally going to dodge that in this tutorial.  There are instructions elsewhere <span class="todo">Todo: write and insert
        elsewhere link</span>.  For this tutorial, just open a high port; none of these examples care what port they're run on.  You can
        deal with operating system things later, when you're not in the middle of learning.  So, the above example becomes:
      </p>

      <p><code class="inlinecode"><span class="mygeneral1-identifier">htstub</span><span class="mygeneral1-symbol">:</span><span class="mygeneral1-identifier">serve</span><span class="mygeneral1-symbol">(</span><span class="mygeneral1-space"> </span><span class="mygeneral1-number">8000</span><span class="mygeneral1-symbol">,</span><span class="mygeneral1-space"> </span><span class="mygeneral1-keywords1">fun</span><span class="mygeneral1-symbol">(</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">,</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">,</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">)</span><span class="mygeneral1-space"> </span><span class="mygeneral1-symbol">-&gt;</span><span class="mygeneral1-space"> </span><span class="mygeneral1-string">&quot;It works!&quot;</span><span class="mygeneral1-space"> </span><span class="mygeneral1-keywords1">end</span><span class="mygeneral1-space"> </span><span class="mygeneral1-symbol">).</span></code></p>

      <p>
        And to browse it, you'd go to <a href="http://127.0.0.1:8000/" target="_blank">http://127.0.0.1:8000/</a> (opens in a
        new tab/window).
      </p>


      <h2><a name="finished"></a>Step 1: You're Finished</h2>
      <h3><a name="whathappened"></a>What Just Happened?</h3>
      <h3><a name="thatsall"></a>Wait, that's all?</h3>
      <h3><a name="whywant"></a>So why do I want this again?</h3>
      <h3><a name="concerns"></a>Production Concerns</h3>

      <h2>Step 2: Basic Tools</h2>
      <h3>Answering (DumpR; Clock)</h3>
      <h3>Handling requests (A static site; "pages")</h3>
      <h3>Dynamic sites (Quote; upper &frac12; internet)</h3>
      <h3>GET and POST (Nopaste; Imgpost)</h3>
      <h3>State (A simple counter; keeping notes)</h3>
      <h3>Shared state (Awfulchat; the horse track)</h3>

      <h2>Step 3: Design Strategy</h2>
      <h3>Embed, Invoke or House?</h3>
      <h3>Ajax, Comet, or Refresh?</h3>
      <h3>Client-side or Server-side?</h3>

      <h2>Step 4: Deeper Tools</h2>
      <h2>Invoking and Chaining Modules</h2>
      <h2>Standard Modules</h2>
      <h2>Custom Modules</h2>

      <h2>Step 5: You're Still Finished</h2>
      <br id="lazybottompadding1"/><br id="lazybottompadding2"/>

    </div>

    <div id="tocSidebar">

      <code class="sideblockcode"><span class="mygeneral1-identifier">HelloDriver</span><span class="mygeneral1-space"> </span><span class="mygeneral1-symbol">=</span><span class="mygeneral1-space"><br/> &nbsp;</span><span class="mygeneral1-keywords1">fun</span><span class="mygeneral1-symbol">(</span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">,</span><span class="mygeneral1-space"> </span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">,</span><span class="mygeneral1-space"> </span><span class="mygeneral1-identifier">_</span><span class="mygeneral1-symbol">)</span><span class="mygeneral1-space"> </span><span class="mygeneral1-symbol">-&gt;<br/></span><span class="mygeneral1-space"> &nbsp; &nbsp;</span><span class="mygeneral1-string">&quot;&lt;html&gt;&lt;head/&gt;&lt;body&gt;&lt;p&gt;<br/></span><span class="mygeneral1-space"> &nbsp; &nbsp; &nbsp;</span><span class="mygeneral1-string"><span style="color:black;">Hi, there. Welcome to</span><br/></span><span class="mygeneral1-space"> &nbsp; &nbsp; &nbsp;</span><span class="mygeneral1-string"><span style="color:black;">easier Erlang webdev.</span><br/></span><span class="mygeneral1-space"> &nbsp; &nbsp;</span><span class="mygeneral1-string">&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;<br/></span><span class="mygeneral1-space"> &nbsp;</span><span class="mygeneral1-keywords1">end</span><span class="mygeneral1-symbol">.<br/><br/></span><span class="mygeneral1-identifier">htstub</span><span class="mygeneral1-symbol">:</span><span class="mygeneral1-identifier">serve</span><span class="mygeneral1-symbol">(</span><span class="mygeneral1-identifier">HelloDriver</span><span class="mygeneral1-symbol">).</span></code>

      <div id="toc">
        <h1>Table of Contents</h1>

          <ol>
            <li><a href="#top">Top</a></li>
            <li><a href="#intro">Introduction <span class="toclight">(Hello world)</span></a>
              <ol>
                <li><a href="#another">Another webserver? :(</a></li>
                <li><a href="#somany">But there are so many already!</a></li>
                <li><a href="#thepoint">So what's the point of another?</a></li>
                <li><a href="#started">How do I get started? <span class="toclight">(It Works!)</span></a></li>
                <li><a href="#underunix">Serving from Unix <span class="toclight">(Unix Works!)</span></a></li>
              </ol>
            </li>
            <li><a href="#">Step 1: You're Finished</a>
              <ol>
                <li><a href="#">What Just Happened?</a></li>
                <li><a href="#">Wait, that's all?</a></li>
                <li><a href="#">So why do I want this again?</a></li>
                <li><a href="#">Production Concerns</a></li>
              </ol>
            </li>
            <li><a href="#">Step 2: Basic Tools</a>
              <ol>
                <li><a href="#">Answering <span class="toclight">(DumpR; Clock)</span></a></li>
                <li><a href="#">Handling requests <span class="toclight">(A static site; "pages")</span></a></li>
                <li><a href="#">Dynamic sites <span class="toclight">(Quote; WhereFood)</span></a></li>
                <li><a href="#">State <span class="toclight">(A simple counter; keeping notes)</span></a></li>
                <li><a href="#">Client Headers <span class="toclight">(BrowserID; LangSwap)</span></a></li>
                <li><a href="#">Server Headers <span class="toclight">(LogoBot)</span></a></li>
                <li><a href="#">GET and POST <span class="toclight">(Nopaste; Imgpost)</span></a></li>
                <li><a href="#">Shared state <span class="toclight">(Awfulchat; the horse track)</span></a></li>
              </ol>
            </li>
            <li><a href="#">Step 3: Design Strategy</a>
              <ol>
                <li><a href="#">Embed, Invoke or House?</a></li>
                <li><a href="#">Ajax, Comet, or Refresh?</a></li>
                <li><a href="#">Client-side or Server-side?</a></li>
              </ol>
            </li>
            <li><a href="#">Step 4: Deeper Tools</a>
              <ol>

                <li><a href="#">Invoking Modules <span class="toclight">(Disk)</span></a></li>
                <li><a href="#">Chaining Modules <span class="toclight">(Access; Cacher)</span></a></li>
                <li><a href="#">Standard Modules <span class="toclight">(VHost; Basic Server)</span></a></li>
                <li><a href="#">Custom Modules <span class="toclight">(Principles; Bork)</span></a></li>
              </ol>
            </li>
            <li><a href="#">Arguing the Design</a>
              <ol>
                <li><a href="#">"Where's my data argument?" <span class="toclight">(Lambda)</span></a></li>
                <li><a href="#">"This needs a framework" <span class="toclight">(The Unix Way)</span></a></li>
                <li><a href="#">How to argue new things <span class="toclight">(Contact info)</span></a></li>
                <li><a href="#">"You should go GPL!" <span class="toclight">(No)</span></a></li>
              </ol>
            </li>
            <li><a href="#">Step 5: You're Still Finished</a>
              <ol>
                <li>test</li>
              </ol>
            </li>
          </ol>

      </div>
      <br/><br/>

    </div>

    <a id="footerlink" href="http://scutil.com/" title="ScUtil" target="_blank">HtStub is part of ScUtil</a>

  </body>

</html>